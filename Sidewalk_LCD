// Define pin numbers
const int pedestrianRedLED = 5;
const int pedestrianGreenLED = 6;
const int pedestrianRedWalkLED = 10;
const int pedestrianGreenWalkLED = 11;
const int pedestrianButton = 9;

void setup() {
  // Initialize LED pins as output
  pinMode(pedestrianRedLED, OUTPUT);
  pinMode(pedestrianGreenLED, OUTPUT);
  pinMode(pedestrianRedWalkLED, OUTPUT);
  pinMode(pedestrianGreenWalkLED, OUTPUT);
  
  // Initialize button pin as input with pull-up resistor
  pinMode(pedestrianButton, INPUT_PULLUP);
}

void loop() {
  // Check if green button is pressed
  if (digitalRead(pedestrianButton) == LOW) {
    // Activate pedestrian crossing sequence
    activatePedestrianCrossing();
  }
}

void activatePedestrianCrossing() {
  // Pedestrian crossing sequence
  digitalWrite(pedestrianRedLED, HIGH); // Red light for vehicles
  
  // Activate pedestrian green light
  digitalWrite(pedestrianGreenLED, HIGH);
  digitalWrite(pedestrianRedWalkLED, HIGH);
  delay(5000); // Pedestrian green light duration: 5 seconds
  
  // Flash pedestrian red walk LED
  digitalWrite(pedestrianRedWalkLED, LOW);
  delay(1000); // Delay before changing to flashing
  for (int i = 0; i < 5; i++) {
    digitalWrite(pedestrianRedWalkLED, HIGH);
    delay(500);
    digitalWrite(pedestrianRedWalkLED, LOW);
    delay(500);
  }
  digitalWrite(pedestrianRedWalkLED, HIGH);
  
  // Turn off pedestrian green light and activate pedestrian red light
  digitalWrite(pedestrianGreenLED, LOW);
  digitalWrite(pedestrianRedLED, HIGH);
  delay(2000); // Pedestrian red light duration: 2 seconds
}
